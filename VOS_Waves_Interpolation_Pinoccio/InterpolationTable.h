/*

This table contains interpolation values for a transition

It should have 1000 rows when we put the real table in.

First column is the proportion to apply to the starting intensity
Second column is the proportion to apply to the ending intensity

Ideally these should really be integer multiplications resulting in the correct pixel intensity, to enhance speed.

To work out the correct row, divide the total transition time by 1000 (resulting in value 'x') and then divide the time since transition began by 'x'.

*/
#include <avr/pgmspace.h>

#define INTERPROWS  500

#define interp(a,b,p) ((unsigned int)a*pgm_read_byte(&Interp[p][0]) + (unsigned int)b*pgm_read_byte(&Interp[p][1])) >>8

const byte PROGMEM Interp[INTERPROWS][2] =
{
        255,0,
        255,0,
	255,0,
	255,0,
	255,0,
	255,0,
	255,0,
	255,0,
	255,0,
	255,0,
	255,0,
	255,0,
	255,0,
	255,0,
	255,0,
	255,0,
	254,1,
	254,1,
	254,1,
	254,1,
	254,1,
	254,1,
	254,1,
	254,1,
	254,1,
	254,1,
	254,1,
	253,2,
	253,2,
	253,2,
	253,2,
	253,2,
	253,2,
	253,2,
	253,2,
	252,3,
	252,3,
	252,3,
	252,3,
	252,3,
	252,3,
	251,4,
	251,4,
	251,4,
	251,4,
	251,4,
	250,5,
	250,5,
	250,5,
	250,5,
	250,5,
	249,6,
	249,6,
	249,6,
	249,6,
	248,7,
	248,7,
	248,7,
	248,7,
	247,8,
	247,8,
	247,8,
	247,8,
	246,9,
	246,9,
	246,9,
	245,10,
	245,10,
	245,10,
	245,10,
	244,11,
	244,11,
	244,11,
	243,12,
	243,12,
	243,12,
	242,13,
	242,13,
	242,13,
	241,14,
	241,14,
	241,14,
	240,15,
	240,15,
	239,16,
	239,16,
	239,16,
	238,17,
	238,17,
	238,17,
	237,18,
	237,18,
	236,19,
	236,19,
	236,19,
	235,20,
	235,20,
	234,21,
	234,21,
	233,22,
	233,22,
	232,23,
	232,23,
	232,23,
	231,24,
	231,24,
	230,25,
	230,25,
	229,26,
	229,26,
	228,27,
	228,27,
	227,28,
	227,28,
	226,29,
	226,29,
	225,30,
	225,30,
	224,31,
	224,31,
	223,32,
	223,32,
	222,33,
	222,33,
	221,34,
	220,35,
	220,35,
	219,36,
	219,36,
	218,37,
	218,37,
	217,38,
	217,38,
	216,39,
	215,40,
	215,40,
	214,41,
	214,41,
	213,42,
	212,43,
	212,43,
	211,44,
	211,44,
	210,45,
	209,46,
	209,46,
	208,47,
	207,48,
	207,48,
	206,49,
	205,50,
	205,50,
	204,51,
	204,51,
	203,52,
	202,53,
	202,53,
	201,54,
	200,55,
	200,55,
	199,56,
	198,57,
	197,58,
	197,58,
	196,59,
	195,60,
	195,60,
	194,61,
	193,62,
	193,62,
	192,63,
	191,64,
	190,65,
	190,65,
	189,66,
	188,67,
	187,68,
	187,68,
	186,69,
	185,70,
	185,70,
	184,71,
	183,72,
	182,73,
	182,73,
	181,74,
	180,75,
	179,76,
	178,77,
	178,77,
	177,78,
	176,79,
	175,80,
	175,80,
	174,81,
	173,82,
	172,83,
	171,84,
	171,84,
	170,85,
	169,86,
	168,87,
	167,88,
	167,88,
	166,89,
	165,90,
	164,91,
	163,92,
	163,92,
	162,93,
	161,94,
	160,95,
	159,96,
	159,96,
	158,97,
	157,98,
	156,99,
	155,100,
	154,101,
	154,101,
	153,102,
	152,103,
	151,104,
	150,105,
	149,106,
	149,106,
	148,107,
	147,108,
	146,109,
	145,110,
	144,111,
	144,111,
	143,112,
	142,113,
	141,114,
	140,115,
	139,116,
	139,116,
	138,117,
	137,118,
	136,119,
	135,120,
	134,121,
	133,122,
	133,122,
	132,123,
	131,124,
	130,125,
	129,126,
	128,127,
	127,128,
	127,128,
	126,129,
	125,130,
	124,131,
	123,132,
	122,133,
	122,133,
	121,134,
	120,135,
	119,136,
	118,137,
	117,138,
	116,139,
	116,139,
	115,140,
	114,141,
	113,142,
	112,143,
	111,144,
	111,144,
	110,145,
	109,146,
	108,147,
	107,148,
	106,149,
	106,149,
	105,150,
	104,151,
	103,152,
	102,153,
	101,154,
	101,154,
	100,155,
	99,156,
	98,157,
	97,158,
	96,159,
	96,159,
	95,160,
	94,161,
	93,162,
	92,163,
	92,163,
	91,164,
	90,165,
	89,166,
	88,167,
	88,167,
	87,168,
	86,169,
	85,170,
	84,171,
	84,171,
	83,172,
	82,173,
	81,174,
	80,175,
	80,175,
	79,176,
	78,177,
	77,178,
	77,178,
	76,179,
	75,180,
	74,181,
	73,182,
	73,182,
	72,183,
	71,184,
	70,185,
	70,185,
	69,186,
	68,187,
	68,187,
	67,188,
	66,189,
	65,190,
	65,190,
	64,191,
	63,192,
	62,193,
	62,193,
	61,194,
	60,195,
	60,195,
	59,196,
	58,197,
	58,197,
	57,198,
	56,199,
	55,200,
	55,200,
	54,201,
	53,202,
	53,202,
	52,203,
	51,204,
	51,204,
	50,205,
	50,205,
	49,206,
	48,207,
	48,207,
	47,208,
	46,209,
	46,209,
	45,210,
	44,211,
	44,211,
	43,212,
	43,212,
	42,213,
	41,214,
	41,214,
	40,215,
	40,215,
	39,216,
	38,217,
	38,217,
	37,218,
	37,218,
	36,219,
	36,219,
	35,220,
	35,220,
	34,221,
	33,222,
	33,222,
	32,223,
	32,223,
	31,224,
	31,224,
	30,225,
	30,225,
	29,226,
	29,226,
	28,227,
	28,227,
	27,228,
	27,228,
	26,229,
	26,229,
	25,230,
	25,230,
	24,231,
	24,231,
	23,232,
	23,232,
	23,232,
	22,233,
	22,233,
	21,234,
	21,234,
	20,235,
	20,235,
	19,236,
	19,236,
	19,236,
	18,237,
	18,237,
	17,238,
	17,238,
	17,238,
	16,239,
	16,239,
	16,239,
	15,240,
	15,240,
	14,241,
	14,241,
	14,241,
	13,242,
	13,242,
	13,242,
	12,243,
	12,243,
	12,243,
	11,244,
	11,244,
	11,244,
	10,245,
	10,245,
	10,245,
	10,245,
	9,246,
	9,246,
	9,246,
	8,247,
	8,247,
	8,247,
	8,247,
	7,248,
	7,248,
	7,248,
	7,248,
	6,249,
	6,249,
	6,249,
	6,249,
	5,250,
	5,250,
	5,250,
	5,250,
	5,250,
	4,251,
	4,251,
	4,251,
	4,251,
	4,251,
	3,252,
	3,252,
	3,252,
	3,252,
	3,252,
	3,252,
	2,253,
	2,253,
	2,253,
	2,253,
	2,253,
	2,253,
	2,253,
	2,253,
	1,254,
	1,254,
	1,254,
	1,254,
	1,254,
	1,254,
	1,254,
	1,254,
	1,254,
	1,254,
	1,254,
	0,255,
	0,255,
	0,255,
	0,255,
	0,255,
	0,255,
	0,255,
	0,255,
	0,255,
	0,255,
	0,255,
	0,255,
	0,255,
	0,255,
	0,255
};

// Gamma table courtesy of http://rgb-123.com/ws2812-color-output/

byte GammaE[] = { 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2,
  2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5,
  6, 6, 6, 7, 7, 7, 8, 8, 8, 9, 9, 9, 10, 10, 11, 11,
  11, 12, 12, 13, 13, 13, 14, 14, 15, 15, 16, 16, 17, 17, 18, 18,
  19, 19, 20, 21, 21, 22, 22, 23, 23, 24, 25, 25, 26, 27, 27, 28,
  29, 29, 30, 31, 31, 32, 33, 34, 34, 35, 36, 37, 37, 38, 39, 40,
  40, 41, 42, 43, 44, 45, 46, 46, 47, 48, 49, 50, 51, 52, 53, 54,
  55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70,
  71, 72, 73, 74, 76, 77, 78, 79, 80, 81, 83, 84, 85, 86, 88, 89,
  90, 91, 93, 94, 95, 96, 98, 99,100,102,103,104,106,107,109,110,
  111,113,114,116,117,119,120,121,123,124,126,128,129,131,132,134,
  135,137,138,140,142,143,145,146,148,150,151,153,155,157,158,160,
  162,163,165,167,169,170,172,174,176,178,179,181,183,185,187,189,
  191,193,194,196,198,200,202,204,206,208,210,212,214,216,218,220,
  222,224,227,229,231,233,235,237,239,241,244,246,248,250,252,255
};

